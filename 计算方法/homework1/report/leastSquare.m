
clear
% true data
xx = linspace(0,72,73)';
ss = [4944;4964;4986;5027;5066;5080;5094;5135;
    5182;5233;5293;5400;5729;6087;6452;6714;
    7158;7591;7862;8177;8506;9334;10351;11366;
    12283;13281;14471;17044;20244;23838;27078;29498;
    32582;35077;37712;39642;42379;43780;46252;47913;
    49519;50811;56300;57550;58339;59068;59342;59605;
    59868;60113;60366;60583;60907;61141;61370;61514;
    61741;61936;62104;62174;62251;62348;62431;62521;
    62605;62658;62714;62772;62816;62865;62911;62950;
    62982;62988];

cc = [4281;4307;4428;4472;4612;4635;4716;4779;
    4800;4833;4870;4898;4943;4972;4998;5037;
    5068;5098;5125;5166;5213;5270;5389;5616;
    5914;6305;6646;7387;7936;8911;9288;10021;
    11238;12923;14100;15836;17715;19958;22409;24352;
    26992;29302;31782;34593;37649;41891;45873;47742;
    49481;50871;52535;53476;54121;54968;55575;56008;
    56424;57146;57439;57497;57812;58087;58354;58539;
    58798;59142;59379;59759;60027;60371;60499;60661;
    60775;60879];

% yy = ss(2:end) - ss(1:end-1); 
yy = ss(1:end-1);

plot(xx,yy,'*')
% axis([0 72 -30 300])
hold on
dist = 5;
for m=5:1:7
x = xx(1:dist:end);
y = yy(1:dist:end);
A=[];
a=[];
for i=0:1:m
    A = [A x.^i];
end
a = A\y;
u = linspace(0,72)';
f = a(1);
for i=1:1:m
    f = f + a(i+1) * u.^i;
end
plot(u, f,'-');
% plot(u,a(1)+a(2)*u+a(3)*u.^2+a(4)*u.^3 + a(5)*u.^4 + a(6)*u.^5,'-')
hold on
str(m) = "m = " + num2str(m) + " 拟合函数";
end

legend('累计确诊人数', str(5), str(6), str(7) , 'Location', 'NorthWest')